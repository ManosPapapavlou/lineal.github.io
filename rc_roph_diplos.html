<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Structural Toolkit</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>
    <header id="header" class="header fixed-top d-flex align-items-center">
        <div class="d-flex align-items-center justify-content-between">
            <a href="index.html" class="logo d-flex align-items-center">
                <img src="assets/img/logo.png" alt="">
                <span class="d-none d-lg-block">Lineal</span>
            </a>
            <i class="bi bi-list toggle-sidebar-btn"></i>
        </div>
    </header>

    <aside id="sidebar" class="sidebar">
        <ul class="sidebar-nav" id="sidebar-nav">
            <li class="nav-item">
                <a class="nav-link collapsed" href="index.html">
                    <i class="bi bi-grid"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link " data-bs-target="#forms-nav" data-bs-toggle="collapse" href="#">
                    <i class="bi bi-journal-text"></i><span>Concrete</span><i
                        class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="forms-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
                    <li>
                        <a href="rc_roph.html">
                          <i class="bi bi-circle"></i><span>Υπολογισμός Ροπής-Μονός Οπλισμός</span>
                        </a>
                      </li>
                      <li>
                        <a href="rc_roph_diplos.html" class="active">
                          <i class="bi bi-circle"></i><span>Υπολογισμός Ροπής-Διπλός Οπλισμός</span>
                        </a>
                      </li>
                      <li>
                        <a href="rc_roph_enisxush_katw.html">
                          <i class="bi bi-circle"></i><span>Υπολογισμός Ροπής-Ενίσχυση Κάτω Παρειάς </span>
                        </a>
                      </li>
                      <li>
                        <a href="syntheta_elasmata.html">
                          <i class="bi bi-circle"></i><span>Σύνθετα Ελάσματα</span>
                        </a>
                      </li>
                      <li>
                        <a href="syntheta_ufasmata.html">
                          <i class="bi bi-circle"></i><span>Σύνθετα Υφάσματα</span>
                        </a>
                      </li>
                      <li>
                        <a href="perisfijh_upo.html">
                          <i class="bi bi-circle"></i><span>Περίσφιξη με Σύνθετα Υφάσματα Υποστυλώματος</span>
                        </a>
                      </li>
                      <li>
                        <a href="agkurwseis.html">
                          <i class="bi bi-circle"></i><span>Αγκυρώσεις οπλισμού δοκών</span>
                        </a>
                      </li>
                      <li>
                        <a href="As_oplismwn.html">
                          <i class="bi bi-circle"></i><span>Υπολογισμός As οπλισμών</span>
                        </a>
                      </li>
                      <li>
                        <a href="drash_blhtrou.html" >
                          <i class="bi bi-circle"></i><span>Δράση βλήτρου </span>
                        </a>
                      </li>
                      <li>
                        <a href="prometrisi_3pleurhsdokou.html" >
                          <i class="bi bi-circle"></i><span>Προμέτρηση μανδύα δοκού</span>
                        </a>
                      </li>
        
                </ul>
            </li><!-- End Forms Nav -->
              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#forms1-nav" data-bs-toggle="collapse" href="#">
                  <i class="bi bi-journal-text"></i><span>Masonry</span><i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="forms1-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="antoxh_tristrwths_toixopoias.html">
                      <i class="bi bi-circle"></i><span>Αντοχή τρίστρωτης και μονόστρωτης τοιχοποιίας</span>
                    </a>
                  </li>
                  <li>
                    <a href="omogenopoihsh.html">
                      <i class="bi bi-circle"></i><span>Ενίσχυση τοιχοποιίας με ομογενοποιήση</span>
                    </a>
                  </li>
                </ul>
              </li><!-- End Forms Nav -->
              <li class="nav-item"></li>
                <a class="nav-link collapsed" data-bs-target="#forms2-nav" data-bs-toggle="collapse" href="#">
                  <i class="bi bi-journal-text"></i><span>Timber</span><i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="forms2-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="ksulino_patwma.html">
                      <i class="bi bi-circle"></i><span>Υπολογισμός ξύλινου πατώματος</span>
                    </a>
                  </li>
                </ul>
              </li><!-- End Forms Nav -->
              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#tables-nav" data-bs-toggle="collapse" href="#">
                  <i class="bi bi-layout-text-window-reverse"></i><span>Tables</span><i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <ul id="tables-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="tables-data_antoxes concrete.html">
                      <i class="bi bi-circle"></i><span>Concrete Categories</span>
                    </a>
                  </li>
                  <li>
                    <a href="tables-data_antoxestimber.html">
                      <i class="bi bi-circle"></i><span>Timber Categories</span>
                    </a>
                  </li>
                </ul>
              </li><!-- End Tables Nav -->
            </ul>
        
          </aside><!-- End Sidebar-->


    <main id="main" class="main">
        <div class="pagetitle">
            <h1>Σύνθετα Ελάσματα</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item">Applications</li>
                    <li class="breadcrumb-item active">Υπολογισμός ροπής διπλός οπλισμός</li>
                </ol>
            </nav>
        </div>

        <section class="section">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Material Characteristics</h5>
                            <form id="material-properties">
                                <div class="mb-3">
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="fc" class="col-form-label">Αντοχή Σκυροδέματος Fc (MPa):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="fc" value="21">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="gc" class="col-form-label">Συντελεστής ασφαλείας Σκυροδέματος:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="gc" value="1.5">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="fs1" class="col-form-label">Αντοχή Χάλυβα fs1 (MPa):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="fs1" value="500">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="fs2" class="col-form-label">Αντοχή Χάλυβα fs2 (MPa):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="fs2" value="220">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="gs" class="col-form-label">Συντελεστής ασφαλείας Χάλυβα:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="gs" value="1.15">
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <h5 class="card-title">Section Characteristics</h5>
                            <form id="section-properties">
                                <div class="mb-3">
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="b" class="col-form-label">Πλάτος διατομής b (m):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="b" value="0.25">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="h" class="col-form-label">Ύψος διατομής h (m):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="h" value="0.55">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="d1" class="col-form-label">Επικάλυψη Κάτω Παρειάς d1 (m):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="d1" value="0.02">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="d2" class="col-form-label">Επικάλυψη Άνω Παρειάς d2 (m):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="d2" value="0.02">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="o_d" class="col-form-label">Οπλισμός Διάτμησης (mm):</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="number" class="form-control" id="o_d" value="8">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="oplismos1" class="col-form-label">Εφελκυόμενος Οπλισμός:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="oplismos1" value="4Φ20">
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-sm-4">
                                            <label for="oplismos2" class="col-form-label">Θλιβόμενος Οπλισμός:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" id="oplismos2" value="2Φ8">
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <div class="row align-items-center">
                                <div class="col-sm-2">
                                    <button type="button" id="calculate-button" class="btn btn-primary">Calculate</button>
                                </div>
                            </div>

                            <div id="result" class="mt-4"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer" class="footer">
        <div class="copyright">
            &copy; Copyright <strong><span>NiceAdmin</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
    </footer>

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
        function calculate() {
            const fc = parseFloat(document.getElementById('fc').value);
            const gc = parseFloat(document.getElementById('gc').value);
            const fs1 = parseFloat(document.getElementById('fs1').value);
            const fs2 = parseFloat(document.getElementById('fs2').value);
            const gs = parseFloat(document.getElementById('gs').value);
            const b = parseFloat(document.getElementById('b').value);
            const h = parseFloat(document.getElementById('h').value);
            const d1 = parseFloat(document.getElementById('d1').value);
            const d2 = parseFloat(document.getElementById('d2').value);
            const o_d = parseFloat(document.getElementById('o_d').value);
            const oplismos1 = document.getElementById('oplismos1').value;
            const oplismos2 = document.getElementById('oplismos2').value;

            function parseOplismos(oplismos) {
                const newStr = oplismos.split(/[Φφ+]/).map(Number);
                let maxSid = newStr[1];

                for (let i = 1; i < newStr.length; i += 2) {
                    if (newStr[i] > maxSid) {
                        maxSid = newStr[i];
                    }
                }

                const As = newStr.reduce((acc, val, index) => {
                    if (index % 2 === 1) {
                        acc += (newStr[index - 1] * Math.PI * Math.pow(val / 10, 2)) / 4;
                    }
                    return acc;
                }, 0);

                return { s: maxSid, As };
            }

            const { s: s1, As: As1 } = parseOplismos(oplismos1);
            const { s: s2, As: As2 } = parseOplismos(oplismos2);
            const d = h - d1 - ((o_d + (s1 / 2)) / 1000);
            const fcd = 0.85 * fc / gc;
            const fyd1 = fs1 / gs;
            const fyd2 = fs2 / gs;
            const elim1 = fyd1 / 200;
            const elim2 = fyd2 / 200;
            let ec = 3.5;
            let es1 = elim1;
            let NN = 10;

            let x, dd, es2, a, Fcd, Fs1, Fs2, N, Mrd, m;

            while (NN !== 0) {
                x = (ec / es1) * d / (1 + (ec / es1));
                dd = d2 + ((o_d + (s2 / 2)) / 1000);
                es2 = (x - dd) * ec / x;
                a = ec > 2 ? (3 * ec - 2) / (3 * ec) : (ec * (6 - ec)) / 12;
                Fcd = a * x * b * fc * 0.85 * 1000 / gc;
               
                Fs1 = es1 >= elim1 ? As1 * fyd1 / 10 : As1 * fs1 * es1 / (10 * elim1);
                Fs2 = es2 >= elim2 ? As2 * fyd2 / 10 : As2 * fs2 * es2 / (10 * elim2);
                N = Fcd + Fs2 - Fs1;

                if (N > 0.001) {
                    ec -= 0.0001;
                } else if (N < -0.001) {
                    es1 -= 0.0001;
                } else {
                    NN = 0;
                }

                Mrd = Fcd * (d - 0.4 * x) + Fs2 * (d - dd);
                m = Mrd / (b * Math.pow(d, 2) * fcd * 1000);
            }

            const results_kampsh = {
                Mrd: Mrd.toFixed(5),
                m: m.toFixed(5),
                Fcd: Fcd.toFixed(5),
                Fs1: Fs1.toFixed(5),
                Fs2: Fs2.toFixed(5),
                N: N.toFixed(5),
                ec: ec.toFixed(5),
                es1: es1.toFixed(5),
                es2: es2.toFixed(5),
                fc,
                gc,
                fs1,
                gs,
                b,
                h,
                d,
                As1,
                As2
            };

            let resultHTML = `<table class="table table-striped">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>`;

            for (const [key, value] of Object.entries(results_kampsh)) {
                resultHTML += `<tr><td>${key}</td><td>${value}</td></tr>`;
            }

            resultHTML += `</tbody></table>`;

            document.getElementById('result').innerHTML = resultHTML;
        }

        document.getElementById('calculate-button').addEventListener('click', calculate);
    </script>
</body>
</html>
